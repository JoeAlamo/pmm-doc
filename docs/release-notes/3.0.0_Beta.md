# Percona Monitoring and Management 3.0.0 Alpha

| **Release date** | September 16th, 2024                                                                                   |
| ----------------- | ----------------------------------------------------------------------------------------------- |
| **Installation** | [Installing Percona Monitoring and Management](https://www.percona.com/software/pmm/quickstart) |

Percona Monitoring and Management (PMM) is an open source database monitoring, management, and observability solution for MySQL, PostgreSQL, and MongoDB.

It enables you to observe the health of your database systems, explore new patterns in their behavior, troubleshoot them and execute database management operationsâ€”regardless of whether your databases are located on-premises or in the cloud.

## Release highlights

### Breaking API changes

#### Removed database ID prefixes

We have removed prefixes from database record identifiers (IDs) in PMM to improve REST API compatibility and simplify ID handling.

This change affects various components, including nodes, agents, services, and backup-related entities. As a result:

- Database identifiers are now represented as plain UUIDs without prefixes: `/node_id/`, `/agent_id/`, `/service_id/`, etc.
- API endpoints using IDs as path parameters now use a new format
- Exporter passwords (previously identical to the prefixed `agent_id`) have changed
- Metrics labels that used `agent_id` have been updated

**Impact**
Make sure to update any custom scripts, integrations, or alerts that rely on the old exporter ID format to ensure compatibility with this new structure.

#### Simplified boolean feature controls

We have replaced the dual boolean key system with a single key for each feature in our API to improve usability and simplify code implementation.
Additionally, we've implemented wrapper types for primitive values to enhance type handling.

This change affects various API endpoints that control feature toggles and how we handle primitive types. As a result:

- Feature states are now represented by a single enabled boolean key
- API requests to toggle features now use a new, simplified format
- Responses from the API will consistently use the new format
- Primitive types (bool, int32, int64, uint32, uint64, float, double, string) now use wrapper types from the `protobuf` library
- The API can now distinguish between unset values and empty/zero values for primitive types
- Slices and maps continue to use their standard representations without wrappers

**Example of new format:**

```json
{"feature": {"enabled": true}}  // To enable a feature
{"feature": {"enabled": false}} // To disable a feature
```

**Impact**
Ensure you update any custom scripts, integrations, or frontend code that interact with feature toggles in the API. 

The old format is deprecated but will function for a limited time to allow for transitions. Review your codebase for any logic that relies on the previous dual boolean system and update accordingly.

Understood. I'll reorganize the content for an external audience, focusing on the key changes and their impact, following the structure you provided. Here's the revised entry:

#### Consistent field emission in API responses

We have updated our API to consistently emit all fields in responses, including those with default or zero values. This change improves API clarity and affects how API responses are structured. As a result:

- All API responses now include fields with zero or default values
- API documentation accurately reflects actual API responses
- Responses provide a more complete picture of available settings and their current values
- It's now easier to differentiate between unset fields and those with default or empty values

**Example of new response format:**

```json
{
  "settings": {
    "telemetry_enabled": false,
    "updates_disabled": false,
    "metrics_resolutions": {
      "hr": "5s",
      "mr": "10s",
      "lr": "60s"
    },
    "data_retention": "2592000s",
    "aws_partitions": ["aws"],
    "stt_enabled": false,
    "dbaas_enabled": false,
    "alerting_enabled": false
  }
}
```

**Impact**
Ensure you review and update any custom scripts, integrations, or code that parse API responses. The new format provides more consistent and complete information, but may require updates to existing parsing logic.

Be aware that API responses will be more verbose, including all defined fields regardless of their values. This change improves clarity but may slightly increase the size of API responses.

#### Inventory API Moved to Development-Only Status

We have  removed the Inventory API section from our public API documentation. This change aims to reduce confusion and improve user experience by focusing on the Management API for inventory-related tasks. 

If you are using the Inventory API in your integrations or scripts, make sure to review the updated API documentation for the correct endpoints and methods. 
